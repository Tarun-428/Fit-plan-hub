Role: You are a senior full-stack engineer and system architect.
Goal: Build a complete full-stack application named FitPlanHub using:

Backend: Python (FastAPI preferred; Flask acceptable)

Database: PostgreSQL

Auth: JWT token authentication

Frontend: React.js (with role-based UI)

ORM: SQLAlchemy

Password hashing: bcrypt

State management: React Context or Redux

ğŸ§© PROJECT OVERVIEW

FitPlanHub is a platform where:

Certified trainers create and sell fitness plans

Users subscribe to plans and follow trainers

Access to plan details is restricted by subscription

ğŸ” AUTHENTICATION & ROLES
Users

Signup / Login

JWT token authentication

Roles:

trainer

user

Requirements

Secure password hashing

Token-based auth middleware

Role-based access control

ğŸ— BACKEND REQUIREMENTS (FastAPI / Flask)
ğŸ“Œ Database Models (PostgreSQL)
User

id

name

email (unique)

password_hash

role (trainer / user)

created_at

FitnessPlan

id

title

description

price

duration_days

trainer_id (FK â†’ User)

created_at

Subscription

id

user_id

plan_id

subscribed_at

TrainerFollow

id

user_id

trainer_id

ğŸ”‘ API ENDPOINTS
Authentication
POST /auth/signup
POST /auth/login

Trainer APIs (Trainer Only)
POST   /trainer/plans
PUT    /trainer/plans/{id}
DELETE /trainer/plans/{id}
GET    /trainer/plans

Public / User APIs
GET  /plans                # preview only
GET  /plans/{id}           # full view if subscribed
POST /plans/{id}/subscribe # simulate payment

Trainer Follow APIs
POST   /trainers/{id}/follow
DELETE /trainers/{id}/unfollow
GET    /users/me/following

Personalized Feed
GET /users/me/feed


Feed should include:

Plans from followed trainers

Purchased plans

Trainer basic info

ğŸ” ACCESS CONTROL RULES

Non-subscribed users:

See only title, trainer name, price

Subscribed users:

Full plan details

Trainers:

Can only modify their own plans

ğŸ–¥ FRONTEND (React.js)
Required Pages
1ï¸âƒ£ Landing Page

List all plans (preview)

CTA: Login / Signup

2ï¸âƒ£ Login / Signup

Store JWT token

Redirect based on role

3ï¸âƒ£ Trainer Dashboard

Create/Edit/Delete fitness plans

List own plans

4ï¸âƒ£ Plan Details Page

Preview if not subscribed

Full content if subscribed

Subscribe button (simulate payment)

5ï¸âƒ£ User Feed

Plans from followed trainers

Mark purchased plans

Trainer info shown

6ï¸âƒ£ Trainer Profile

Trainer info

Follow / Unfollow button

Trainerâ€™s plans list

ğŸ¯ FRONTEND LOGIC

Role-based UI rendering

Protected routes

Conditional rendering:

Preview vs Full Plan

Token stored in localStorage

Axios for API calls

ğŸ§ª BONUS (OPTIONAL BUT PREFERRED)

Pagination for plans

Toast notifications

Clean folder structure

API error handling

Environment variables

README with setup instructions

ğŸ§‘â€ğŸ’» OUTPUT EXPECTATIONS

Generate:

Backend folder structure

Database models

Auth middleware

API routes with examples

Frontend React components

Sample .env file

Clear comments and clean code

ğŸš€ FINAL INSTRUCTION

Generate production-ready code, not pseudo-code.
Keep logic clean, modular, and scalable.
Assume this project will be reviewed in a backend + frontend interview.